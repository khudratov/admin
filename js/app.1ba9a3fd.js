(function(e){function t(t){for(var s,l,n=t[0],c=t[1],o=t[2],d=0,v=[];d<n.length;d++)l=n[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&v.push(i[l][0]),i[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(v.length)v.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},i={app:0},r=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/admin/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var o=0;o<n.length;o++)t(n[o]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1b9b":function(e,t,a){"use strict";a("5383")},3934:function(e,t,a){"use strict";a("8b58")},"489a":function(e,t,a){},5383:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],l=(a("5c0b"),a("2877")),n={},c=Object(l["a"])(n,i,r,!1,null,null,null),o=c.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"autocomplite",staticClass:"autocomplete",attrs:{id:"icon_prefix2",type:"text"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.handleSearch]}}),a("label",{attrs:{for:"icon_prefix2"}},[e._v("Поиск")])])]),e.search.length?e._e():a("div",{staticClass:"container"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filters--title"},[e._v(" Фильтры ")]),a("div",{staticClass:"filters--checkbox"},[a("p",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"checkbox",checked:"checked",value:"Client"},domProps:{checked:Array.isArray(e.filter)?e._i(e.filter,"Client")>-1:e.filter},on:{change:function(t){var a=e.filter,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r="Client",l=e._i(a,r);s.checked?l<0&&(e.filter=a.concat([r])):l>-1&&(e.filter=a.slice(0,l).concat(a.slice(l+1)))}else e.filter=i}}}),a("span",[e._v("Client")])])]),a("p",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"checkbox",checked:"checked",value:"Partner"},domProps:{checked:Array.isArray(e.filter)?e._i(e.filter,"Partner")>-1:e.filter},on:{change:function(t){var a=e.filter,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r="Partner",l=e._i(a,r);s.checked?l<0&&(e.filter=a.concat([r])):l>-1&&(e.filter=a.slice(0,l).concat(a.slice(l+1)))}else e.filter=i}}}),a("span",[e._v("Partner")])])]),a("p",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"checkbox",checked:"checked",value:"Admin"},domProps:{checked:Array.isArray(e.filter)?e._i(e.filter,"Admin")>-1:e.filter},on:{change:function(t){var a=e.filter,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r="Admin",l=e._i(a,r);s.checked?l<0&&(e.filter=a.concat([r])):l>-1&&(e.filter=a.slice(0,l).concat(a.slice(l+1)))}else e.filter=i}}}),a("span",[e._v("Admin")])])])])])]),e.search.length?a("div",{staticClass:"info-text center blue  lighten-2"},[e._v(" Количество найденных пользователей: "+e._s(e.found.length)+" ")]):e._e(),e.search.length?e._e():a("Table",{attrs:{users:e.filteredUsers,emptyTitle:"Нет пользователей."}}),e.search.length?a("Table",{attrs:{users:e.found,emptyTitle:"Пользователь не найден."}}):e._e(),a("router-link",{staticClass:"btn-floating btn-large waves-effect waves-light red button_add",attrs:{to:"/create",tag:"a"}},[a("i",{staticClass:"material-icons"},[e._v("add")])])],1)},v=[],m=(a("4de4"),a("caad"),a("a15b"),a("ac1f"),a("2532"),a("841c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.users.length?a("table",{staticClass:"striped responsive-table table"},[e._m(0),a("tbody",e._l(e.users,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.fullname))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(e._s(t.pass))]),a("td",[e._v(e._s(t.tel))]),a("td",[e._v(e._s(t.status))]),a("td",[e._v(e._s(t.dateCreate))]),a("td",[e._v(e._s(t.dateEdit))]),a("td",[a("button",{staticClass:"btn btn-info",on:{click:function(a){return e.$router.push("/edit/"+t.id)}}},[e._v(" Редактировать ")])])])})),0)]):a("div",{staticClass:"info"},[e._v(" "+e._s(e.emptyTitle)+" "),a("router-link",{attrs:{to:"/create",tag:"a"}},[e._v("Хотите добавить")])],1)])}),p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Ф.И.О")]),a("th",[e._v("Электронный адрес")]),a("th",[e._v("Пароль")]),a("th",[e._v("Телефон")]),a("th",[e._v("Статус")]),a("th",[e._v("Дата создания")]),a("th",[e._v(" Дата последнего "),a("br"),e._v(" изменения ")]),a("th",[e._v("Редактировать")])])])}],f={props:["users","emptyTitle"]},h=f,_=(a("9d5e"),Object(l["a"])(h,m,p,!1,null,"098bddd2",null)),b=_.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"mb"},[a("div",{staticClass:"nav-wrapper"},[a("router-link",{staticClass:"brand-logo center",attrs:{to:"/",tag:"a"}},[e._v("Администрация")])],1)])},$=[],y={},C=Object(l["a"])(y,g,$,!1,null,null,null),x=C.exports,w={components:{Table:b,Navbar:x},data:function(){return{found:[],search:"",users:[],filter:["Client","Partner","Admin"]}},mounted:function(){this.users=JSON.parse(localStorage.getItem("users")),this.message()},methods:{handleSearch:function(){var e=this;this.found=this.users.filter((function(t){if(t.tel.includes(e.search)||t.email.includes(e.search))return t}))},message:function(){switch(this.$route.query.message){case"created":this.$message("Пользователь создан");break;case"deleted":this.$message("Пользователь удален");break;case"updated":this.$message("Пользователь отредактирован");break;case"notUpdated":this.$message("Пользователь не редактировался");break}}},computed:{filteredUsers:function(){var e=this,t=this.users.filter((function(t){if(e.filter.join().includes(t.status))return t}));return t}}},k=w,q=(a("9146"),Object(l["a"])(k,d,v,!1,null,"c91964a0",null)),N=q.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullname,expression:"fullname"}],class:{invalid:e.$v.fullname.$dirty&&!e.$v.fullname.required},attrs:{id:"icon_prefix",type:"text"},domProps:{value:e.fullname},on:{input:function(t){t.target.composing||(e.fullname=t.target.value)}}}),a("label",{attrs:{for:"icon_prefix"}},[e._v("Ф.И.О")]),e.$v.fullname.$dirty&&!e.$v.fullname.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите полное имя ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{invalid:e.$v.email.$dirty&&(!e.$v.email.required||!e.$v.email.email)},attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v("Электронный адрес")]),e.$v.email.$dirty&&!e.$v.email.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите адрес электронной почты ")]):e.$v.email.$dirty&&!e.$v.email.email?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите правильный адрес электронной почты ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("phone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],class:{invalid:e.$v.tel.$dirty&&(!e.$v.tel.required||!e.$v.tel.checkNumber)},attrs:{id:"tel",type:"tel"},domProps:{value:e.tel},on:{input:function(t){t.target.composing||(e.tel=t.target.value)}}}),a("label",{attrs:{for:"tel"}},[e._v("Телефон")]),e.$v.tel.$dirty&&!e.$v.tel.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите номер телефона ")]):e.$v.tel.$dirty&&!e.$v.tel.checkNumber?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите номер телефона в формать +7 (444) 444-44-44 ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("lock")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],class:{invalid:e.$v.pass.$dirty&&(!e.$v.pass.required||!e.$v.pass.minLength)},attrs:{id:"pass",type:"text"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),a("label",{attrs:{for:"pass"}},[e._v("Пароль")]),e.$v.pass.$dirty&&!e.$v.pass.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите пароль ")]):e.$v.pass.$dirty&&!e.$v.pass.minLength?a("small",{staticClass:"helper-text invalid"},[e._v(" Минимальная длина должна быть "+e._s(e.$v.pass.$params.minLength.min)+" символов ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("equalizer")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],ref:"select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.status=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Client"}},[e._v("Client")]),a("option",{attrs:{value:"Partner"}},[e._v("Partner")]),a("option",{attrs:{value:"Admin"}},[e._v("Admin")])]),a("label",[e._v("Статус пользователя")])])]),a("div",{staticClass:"buttons"},[a("router-link",{staticClass:"btn red darken-1",attrs:{to:"/",tag:"button"}},[e._v("Отменить")]),a("button",{staticClass:"btn",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[e._v("Добавить")])],1)])])],1)},P=[],S=a("b5ae");function A(e){return/\+7 \(\d\d\d\) \d\d\d-\d\d-\d\d/.test(e)&&18===e.length}var j={components:{Navbar:x},data:function(){return{fullname:"",email:"",tel:"",pass:"",status:"Client",select:null}},validations:{fullname:{required:S["required"]},email:{required:S["required"],email:S["email"]},tel:{required:S["required"],checkNumber:A},pass:{required:S["required"],minLength:Object(S["minLength"])(6)},status:{required:S["required"]}},methods:{submitHandler:function(){if(this.$v.$invalid)this.$v.$touch();else{var e={id:Date.now(),fullname:this.fullname,email:this.email,tel:this.tel,pass:this.pass,status:this.status,dateCreate:new Date(Date.now()).toLocaleString(),dateEdit:"Не изменилось"},t=JSON.parse(localStorage.getItem("users"))||[];t.push(e),t=JSON.stringify(t),localStorage.setItem("users",t),this.$router.push("/?message=created")}}},mounted:function(){this.select=M.FormSelect.init(this.$refs.select,{})},destroyed:function(){this.select&&this.select.destroy&&this.select.destroy()}},E=j,L=(a("3934"),Object(l["a"])(E,O,P,!1,null,null,null)),T=L.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullname,expression:"fullname"}],class:{invalid:e.$v.fullname.$dirty&&!e.$v.fullname.required},attrs:{id:"icon_prefix",type:"text"},domProps:{value:e.fullname},on:{input:function(t){t.target.composing||(e.fullname=t.target.value)}}}),a("label",{attrs:{for:"icon_prefix"}},[e._v("Ф.И.О")]),e.$v.fullname.$dirty&&!e.$v.fullname.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите полное имя ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{invalid:e.$v.email.$dirty&&(!e.$v.email.required||!e.$v.email.email)},attrs:{id:"email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v("Электронный адрес")]),e.$v.email.$dirty&&!e.$v.email.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите адрес электронной почты ")]):e.$v.email.$dirty&&!e.$v.email.email?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите правильный адрес электронной почты ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("phone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],class:{invalid:e.$v.tel.$dirty&&(!e.$v.tel.required||!e.$v.tel.checkNumber)},attrs:{id:"tel",type:"tel"},domProps:{value:e.tel},on:{input:function(t){t.target.composing||(e.tel=t.target.value)}}}),a("label",{attrs:{for:"tel"}},[e._v("Телефон")]),e.$v.tel.$dirty&&!e.$v.tel.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите номер телефона ")]):e.$v.tel.$dirty&&!e.$v.tel.checkNumber?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите номер телефона в формать +7 (444) 444-44-44 ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("lock")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],class:{invalid:e.$v.pass.$dirty&&(!e.$v.pass.required||!e.$v.pass.minLength)},attrs:{id:"pass",type:"text"},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}),a("label",{attrs:{for:"pass"}},[e._v("Пароль")]),e.$v.pass.$dirty&&!e.$v.pass.required?a("small",{staticClass:"helper-text invalid"},[e._v(" Введите пароль ")]):e.$v.pass.$dirty&&!e.$v.pass.minLength?a("small",{staticClass:"helper-text invalid"},[e._v(" Минимальная длина должна быть "+e._s(e.$v.pass.$params.minLength.min)+" символов ")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("i",{staticClass:"material-icons prefix"},[e._v("equalizer")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],ref:"select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.status=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"Client"}},[e._v("Client")]),a("option",{attrs:{value:"Partner"}},[e._v("Partner")]),a("option",{attrs:{value:"Admin"}},[e._v("Admin")])]),a("label",[e._v("Статус пользователя")])])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn red darken-1",on:{click:function(t){return t.preventDefault(),e.deleteUser(t)}}},[e._v(" Удалить пользователя ")]),a("button",{staticClass:"btn",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[e._v("Обновить")])])])])],1)},J=[],I=(a("7db0"),a("5530"));function U(e){return/\+7 \(\d\d\d\) \d\d\d-\d\d-\d\d/.test(e)&&18===e.length}var H={components:{Navbar:x},data:function(){return{fullname:"",email:"",tel:"",pass:"",status:"",select:null}},validations:{fullname:{required:S["required"]},email:{required:S["required"],email:S["email"]},tel:{required:S["required"],checkNumber:U},pass:{required:S["required"],minLength:Object(S["minLength"])(6)},status:{required:S["required"]}},methods:{submitHandler:function(){var e=this;if(this.$v.$invalid)this.$v.$touch();else{var t=JSON.parse(localStorage.getItem("users"))||[],a=t.find((function(t){return t.id===+e.$route.params.id}));if(this.changed(a)){var s={fullname:this.fullname,email:this.email,tel:this.tel,pass:this.pass,status:this.status,dateEdit:new Date(Date.now()).toLocaleString()};return t=t.filter((function(t){return t.id!==+e.$route.params.id})),t.push(Object(I["a"])(Object(I["a"])({},a),s)),t=JSON.stringify(t),localStorage.setItem("users",t),void this.$router.push("/?message=updated")}this.$router.push("/?message=notUpdated")}},deleteUser:function(){var e=this,t=JSON.parse(localStorage.getItem("users"));t=t.filter((function(t){return t.id!==+e.$route.params.id})),localStorage.setItem("users",JSON.stringify(t)),this.$router.push("/?message=deleted")},changed:function(e){return!(this.fullname===e.fullname&&this.email===e.email&&this.tel===e.tel&&this.pass===e.pass&&this.status===e.status)}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("users")),a=t.find((function(t){return t.id===+e.$route.params.id}));this.fullname=a.fullname,this.email=a.email,this.tel=a.tel,this.pass=a.pass,this.status=a.status,setTimeout((function(){e.select=M.FormSelect.init(e.$refs.select,{}),M.updateTextFields()}))},destroyed:function(){this.select&&this.select.destroy&&this.select.destroy()}},F=H,z=(a("1b9b"),Object(l["a"])(F,D,J,!1,null,null,null)),B=z.exports;s["a"].use(u["a"]);var G=[{path:"/",name:"Users",component:N},{path:"/create",name:"Create",component:T},{path:"/edit/:id",name:"Edit",component:B}],K=new u["a"]({routes:G}),Q=K,R=a("1dce"),V=a.n(R),W={install:function(e,t){e.prototype.$message=function(e){M.toast({html:e})},e.prototype.$error=function(e){M.toast({html:"[Error] ".concat(e)})}}};a("6885");s["a"].use(V.a),s["a"].use(W),s["a"].config.productionTip=!1,new s["a"]({router:Q,render:function(e){return e(o)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"8b58":function(e,t,a){},9146:function(e,t,a){"use strict";a("dbca")},"9c0c":function(e,t,a){},"9d5e":function(e,t,a){"use strict";a("489a")},dbca:function(e,t,a){}});
//# sourceMappingURL=app.1ba9a3fd.js.map